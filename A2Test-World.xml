<A2Test>

  <LoadLibrary Name="CK.Env.Plugin.Basics"/>
  <LoadLibrary Name="CK.Env.Plugin.SolutionDriver" />
  <LoadLibrary Name="CK.Env.Plugin.Appveyor" />
  <LoadLibrary Name="CK.Env.Plugin.GitLab" />
  <LoadLibrary Name="CK.Env.Plugin.NPM" />
  <LoadLibrary Name="CK.Env.Plugin.CKSetup" />
  <LoadLibrary Name="CK.Env.Plugin.NuGet" />

  <SharedHttpClient />
  <ArtifactCenter />
  <LocalFeedProvider />
  <NuGetClient />
  <NPMClient />
  <CKSetupClient />
  <WorldState IsPublic="True" />
  
  <ArtifactRepositories>

    <Repository Type="NuGetAzure" Organization="Signature-OpenSource" FeedName="CKEnvTest3"
                CheckName="NuGetAzure:Signature-OpenSource-CKEnvTest3"
                CheckSecretKeyName="AZURE_FEED_SIGNATURE_OPENSOURCE_PAT" />

    <Repository Type="NPMAzure" Organization="Signature-OpenSource" FeedName="CKEnvTest3"
                NPMScope="@signature"
                CheckName="NPMAzure:@signature->Signature-OpenSource-CKEnvTest3"
                CheckSecretKeyName="AZURE_FEED_SIGNATURE_OPENSOURCE_PAT" />

    <Repository Type="NuGetStandard" Name="nuget.org" Url="https://www.nuget.org/api/v2/package"
                CheckName="NuGetStandard:nuget.org"
                QualityFilter="ReleaseCandidate,Release"
                SecretKeyName="NUGET_ORG_PUSH_API_KEY" />

    <Repository Type="NPMStandard" Name="npmjs.org" Url="https://registry.npmjs.org/"
                QualityFilter="ReleaseCandidate,Release"
                CheckName="NPMStandard:npmjs.org"
                SecretKeyName="NPMJS_ORG_PUSH_PAT" />

    <Repository Type="CKSetup"
                Name="CKEnvTest"
                Url="https://ckenvtest.cksetup.invenietis.net"
                CheckName="CKSetup:CKEnvTest"
                CheckSecretKeyName="CKSETUPREMOTESTORE_CKENVTEST_PUSH_API_KEY" />
    
  </ArtifactRepositories>

  <SharedSolutionSpec>
    <NuGetSources>
      <add Name="Signature-OpenSource" Url="https://pkgs.dev.azure.com/Signature-OpenSource/_packaging/Default/nuget/v3/index.json" >
        <Credentials UserName="SignatureOpenSource" PasswordSecretKeyName="SIGNATURE_OPENSOURCE_READ_PAT" />
      </add>
      <add Name="CKEnvTest3" Url="https://pkgs.dev.azure.com/Signature-OpenSource/_packaging/CKEnvTest3/nuget/v3/index.json" >
        <Credentials UserName="SignatureOpenSource" PasswordSecretKeyName="SIGNATURE_OPENSOURCE_READ_PAT" />
      </add>
    </NuGetSources>
    <RemoveNuGetSourceNames>
      <add Name="CKEnvTest" />
      <add Name="Invenietis - Release" />
      <add Name="Invenietis - Preview" />
      <add Name="Invenietis - CI" />
    </RemoveNuGetSourceNames>
    <ArtifactTargets>
      <add Name="NuGetAzure:Signature-OpenSource-CKEnvTest3" />
      <add Name="NuGetStandard:nuget.org" />
      <add Name="NPMAzure:@signature->Signature-OpenSource-CKEnvTest3" />
      <add Name="NPMStandard:npmjs.org" />
      <add Name="CKSetup:CKEnvTest" />
    </ArtifactTargets>

  </SharedSolutionSpec>


  <Folder Name="Projects">

    <GitFolder Name="CK-SqlServer" Url="https://github.com/Invenietis/CK-SqlServer.git" >
      <Branch Name="develop">
        <SolutionSpec SqlServer="2016" />
      </Branch>
    </GitFolder>
    
    <GitFolder Name="CK-SqlServer-Dapper" Url="https://github.com/Invenietis/CK-SqlServer-Dapper.git">
      <Branch Name="develop">
        <SolutionSpec SqlServer="2017" />
      </Branch>
    </GitFolder>

    <GitFolder Name ="json-graph-serializer" Url="https://github.com/Invenietis/json-graph-serializer.git" >
      <Branch Name="develop">
        <SolutionSpec NoSharedPropsFile="True" NoDotNetUnitTests="True">
          <NPMProjects>
            <add Folder="" PackageName="@signature/json-graph-serializer" />
          </NPMProjects>
        </SolutionSpec>
      </Branch>
    </GitFolder>

    <GitFolder Name="CK-Sqlite" Url="https://github.com/Invenietis/CK-Sqlite.git" >
      <Branch Name="develop">
        <SolutionSpec UseCKSetup="true" >
          <CKSetupComponentProjects>
            <add Name="CK.Sqlite.Setup.Model" />
            <add Name="CK.Sqlite.Setup.Runtime" />
          </CKSetupComponentProjects>           
        </SolutionSpec>
      </Branch>
    </GitFolder>
    
  </Folder>
    
</A2Test>
